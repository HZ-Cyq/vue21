<template>
  <div>
    <!-- {{ tableData }} -->
    <el-table :data="tableData" stripe style="width: 100%">
      <el-table-column prop="date" label="æ—¥æœŸ" width="180">
      </el-table-column>
      <el-table-column prop="name" label="å§“å" width="180">
      </el-table-column>
      <el-table-column prop="address" label="åœ°å€">
      </el-table-column>
    </el-table>
    <el-pagination
      layout="prev, pager, next"
      :total="1000"
    >
    </el-pagination>
  </div>
</template>

<script>
export default {
  name: "ElTableTest",
  data() {
    return {
      curPage: 1,
      pageSize: 5,
      total: 1,
      tableData: [],
      // æ¨¡ä»¿æ•°æ®åº“ä¸­çš„æ•°æ®
      totalTableData: [{
        date: '2016-05-01',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
      },
       {
        date: '2016-05-02',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1517 å¼„'
      }, {
        date: '2016-05-03',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1519 å¼„'
      }, {
        date: '2016-05-04',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-05',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-06',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-07',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-08',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-09',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-10',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-11',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-12',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-13',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-14',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
       {
        date: '2016-05-15',
        name: 'ç‹å°è™',
        address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„'
      },
    ]
    }
  },

  computed: {
    // è·å–å½“å‰é¡µçš„æ•°æ®
    getCurPageData() {
      let start = (this.curPage - 1) * this.pageSize;
      let end = start + this.pageSize;
      return this.totalTableData.slice(start, end);
    }
  },
  methods: {
    // è·å–æ€»é¡µæ•°
    getTotalPage() {
      return Math.ceil(this.totalTableData.length / this.pageSize);
    },

    /**
     * 
     * @param pageSize è·å–æœåŠ¡å™¨æ•°æ®ï¼Œæ ¹æ®æ¯é¡µæ•°é‡å’Œå½“å‰é¡µ
     * @param curPage 
     */
    getServerData(pageSize, curPage) {
      // æ€»è¡Œæ•°
      let totalRow = this.totalTableData.length;
      // è¡¨æ ¼å†…å®¹
      let tableData = this.totalTableData.splice((curPage - 1) * pageSize, (curPage - 1) * pageSize + pageSize);
      let re = {totalRow, tableData};
      return re;
    }
  },
  mounted() {
      let re = this.getServerData(this.pageSize, this.curPage);
      this.tableData = re.tableData;
  },
  destroyed() {
    console.log("DemoComponent1 destroyed");
  }
};
</script>

<style lang="scss" scoped>
.div-cla {
  background-color: green;

  // ğŸ‘‰ æ·±åº¦ä½œç”¨ï¼šé€‰ä¸­ el-input-number å†…éƒ¨çš„ input
  ::v-deep(.el-input__inner) {
    background-color: transparent;
    color: white; // å¯é€‰ï¼šå­—ä½“é¢œè‰²
  }

  // éšè—å¢åŠ å’Œå‡å°‘æŒ‰é’®
  ::v-deep(.el-input-number__decrease),
  ::v-deep(.el-input-number__increase) {
    width: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    display: none;
  }

  // è°ƒå°è¾“å…¥æ¡†å·¦å³ä¸¤è¾¹çš„padding
  ::v-deep(.el-input__inner) {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  // ğŸ‘‰ é€‰ä¸­æ•´ä¸ª el-input-number è¾¹æ¡†å®¹å™¨
  // ::v-deep(.el-input-number) {
  //   background-color: green;
  //   border-color: green;
  // }
}
</style>
